{% extends "base.html" %}

{% block title %}Play with Buddy - Admin{% endblock %}

{% block head %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap5.css">
{% endblock %}

{% block page_content %}
<div class="page-header  text-center">
    <h1>Admin area!</h1>
    <h3>Customer control for account deactivation and deletion</h3>
</div>
<div class="page-content">
    
    <table id="data" class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Country</th>
            <th>City</th>
            <th>Confirmed</th>
            <th>Posts no.</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.country }}</td>
                <td>{{ user.city }}</td>
                <td>{{ user.confirmed }}</td>
                <td>{{ posts[user.id] }}</td>
                <td>
                    <a href="{{ url_for('main.admin', action=1, user=user.id) }}">UnConfirm</a>
                    <a href="{{ url_for('main.admin', action=2, user=user.id) }}">Delete</a>
                </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.js"></script>
<script>
  $(document).ready(function () {
    $('#data').DataTable();
  });
</script>
{% endblock %}